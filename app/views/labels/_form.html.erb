<%= simple_form_for label,
  :as => :label,
  :url => label.new_record? ? labels_path : label_path(:id => label, :published => 0),
  :html => { :class => "form-horizontal" } do |f| %>

  <fieldset id="label_base_data">
    <legend><%= t("txt.common.attributes") %></legend>
    <%= f.input :value %>
    <%= f.input :language do %>
      <%= @label.language %>
      <span><%= f.hidden_field :language %></span>
    <% end %>

    <% if Iqvoc::XLLabel.has_additional_base_data %>
      <%= render 'partials/label/additional_base_data', :f => f %>
    <% end %>

    <%= f.input :follow_up, :as => :string, :input_html => { :class => 'datepicker' } %>
    <%= f.input :expired_at, :as => :string, :input_html => { :class => 'datepicker' } %>
  </fieldset>

  <fieldset>
    <legend><%= Label::Relation::SKOSXL::Base.model_name.human(:count => 2) %></legend>
      <% Iqvoc::XLLabel.relation_classes.each do |relation_class| %>
        <%= render relation_class.edit_partial_name(label), :f => f, :label => label, :klass => relation_class %>
      <% end %>
  </fieldset>

  <% Iqvoc::XLLabel.additional_association_classes.keys.each do |association_class| %>
    <fieldset>
      <legend><%= association_class.model_name.human(:count => 2) %></legend>
      <%= render association_class.edit_partial_name(label), :label => label, :klass => association_class, :f => f %>
    </fieldset>
  <% end %>


  <% unless label.new_record? %>
    <% Iqvoc::XLLabel.note_classes.each do |note_class| %>
      <%= render note_class.edit_partial_name(label), :owner_klass => label, :assoc_klass => note_class, :f => f %>
    <% end %>
  <% end %>

  <div class="form-actions">
    <%= f.submit t("txt.common.save"), :class => 'btn btn-primary' %>
  </div>
<% end # form %>
